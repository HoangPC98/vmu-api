project ecoapi {
  note: '''
  '''
}

table users {
  id int [pk, increment]
  email varchar(255) [unique]
  user_type_id int [not null]
  name varchar [not null]
  desc text [not null]
}

table user_types {
  id int [pk, increment]
  desc varchar [not null]
}

ref: user_types.id < users.user_type_id

enum review_status {
    pending
    approved
    rejected
}

table reviews {
  id int [pk, increment]
  status review_status [not null]
  reviewer_id int [null]
  note text [null]
}

ref: users.id < reviews.reviewer_id

table work_types {
  id int [pk, increment]
  desc varchar [not null, note: 'overtime, remote, offline']
}

table worktimes {
  id int [ pk, increment ]
  user_id int [not null]
  work_type_id int [not null]
  review_id int [null]
  reg_start_at datetime [ null ]
  reg_end_at datetime [ null ]
  checkin_at datetime [ not null ]
  checkout_at datetime [ not null ]
  desc varchar [null]
  
  note: '''
  this table use for work offline, remote work and remote time also
  '''
}

ref: users.id < worktimes.user_id
ref: work_types.id < worktimes.work_type_id

table offworks {
  id int [pk, increment]
  user_id int [not null]
  review_id int [not null]
  reg_start_at datetime [not null]
  reg_end_at datetime [not null]
  reason text [not null]
}

ref: users.id < offworks.user_id

ref: reviews.id - worktimes.review_id
ref: reviews.id - offworks.review_id